name: Sync to Org Repo

on:
  push:
    branches:
      - main

jobs:
  sync:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repo A
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Push to repo B
        env:
          ORG_REPO: EpitechPGE3-2025/G-AIA-500-PAR-5-1-gomoku-3
          TOKEN: ${{ secrets.UPSTREAM_TOKEN }}
        run: |
          git remote add org https://x-access-token:${TOKEN}@github.com/${ORG_REPO}.git
          git push org main:docs/add-project-documentation --force
